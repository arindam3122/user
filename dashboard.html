<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="linkup.png">
  <title>Dashboard</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0-beta3/css/all.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="dashboardCSS.css">
 </head>
  <body>
<nav id="sidebar">
  <div class="logo-container">
    <img src="linkup.png" alt="LinkUp Logo" class="logo">
  </div>
  <ul>
    <li><a href="#" id="dashboardLink" class="active"><i class="fas fa-home"></i> Dashboard</a></li>
    <li><a href="#" id="startQuizLink"><i class="fas fa-arrow-right"></i> Start Quiz</a></li>
    <li><a href="#" id="createQuizLink"><i class="fas fa-plus-circle"></i> Create Quiz</a></li>
    <li><a href="#" id="previousQuizzesLink"><i class="fas fa-history"></i> Previous Quizzes</a></li>
    <li><a href="#" id="archivedQuizzesLink"><i class="fas fa-archive"></i>Archived Quizzes</a></li>
    <li><a href="#" id="performanceTrendsLink"><i class="fas fa-chart-line"></i> Performance Trends</a></li>
    <li><a href="#" id="logoutLink"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
  </ul>
</nav>

<div id="sidebarOverlay" class="sidebar-overlay"></div>

<div class="main-content">
  <header>
    <div class="hamburger-menu" id="hamburgerMenu">
      <i class="fas fa-bars"></i>
    </div>
    <div class="header-right">
        <span id="usernameDisplay"></span>
        <button class="logout-btn" id="headerLogoutButton"><i class="fas fa-sign-out-alt"></i> Logout</button>
    </div>
  </header>
    <div id="quizCompletedMessage" class="info-message quiz-completed-message">Quiz Completed!</div>


  <div class="quiz-info-box" id="quizInfoBox">
    <h2 class="heading1" id="quizInfoHeading">Dashboard Overview</h2>
    <p id="welcomeHeading" class="welcome-heading" style="font-size: 30px; margin-top: 10px; color: rgb(17, 123, 6); font-weight: 700;"></p>
      <p id="lastQuizScoreDisplay" style="display:none;"></p>
      <p id="totalQuizzesCompleted" style="display:none;"></p>
      <button id="viewRecentQuizDetailsButton" class="action-button view-results-btn" style="display:none;">
          <i class="fas fa-list-alt"></i> View Recent Quiz Details
      </button>
  </div>

  <div class="quiz-selection-container" id="quizSelectionContainer">
    <h2 class="heading2">Select a Module</h2>
    <div id="quizList" class="quiz-list-grid">
      </div>
  </div>

  <div class="quiz-container" id="quizContainer">
    <h2 class="heading3" id="quizTitle">Quiz Title</h2>
    <div class="progress-bar-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="timer-display" id="timerDisplay">Time Left: 0:00</div>
    <div class="question-area">
      <img id="questionImage" src="" alt="Question Image" style="display:none;">
        <p id="questionText"></p>
    </div>
    <div id="optionsContainer" class="options-grid">
      </div>
    <div class="quiz-navigation">
      <button id="skipButton" class="nav-button skip-button"><i class="fas fa-forward"></i> Skip</button>
      <button id="nextButton" class="nav-button next-button">Next <i class="fas fa-arrow-right"></i></button>
      <button id="submitButton" class="nav-button submit-button">Submit <i class="fas fa-check-circle"></i></button>
    </div>
  </div>

    <div class="final-score-container" id="finalScoreContainer">
        <h2 class="heading4">Quiz Completed!</h2>
        <div class="score-summary">
            <p>Your Score: <span id="scoreDisplay">0/0</span></p>
            <p>Correct Answers: <span id="correctAnswersCount">0</span></p>
            <p>Wrong Answers: <span id="wrongAnswersCount">0</span></p>
            <p>Skipped Questions: <span id="skippedQuestionsCount">0</span></p>
            <p>Percentage Score: <span id="percentageScore">0.00%</span></p>
        </div>
        <div class="final-score-actions">
            <button id="viewResultsButton" class="action-button view-results-btn"><i class="fas fa-list-alt"></i> View Detailed Results</button>
            <button id="returnToDashboardButton" class="action-button dashboard-btn"><i class="fas fa-tachometer-alt"></i> Return to Dashboard</button>
        </div>
    </div>

    <div class="quiz-results-details-container" id="quizResultsDetails">
        <h2 class="heading5">Detailed Quiz Results</h2>
        <div class="results-summary-box">
            <p>Correct: <span id="summaryCorrect">0</span></p>
            <p>Wrong: <span id="summaryWrong">0</span></p>
            <p>Skipped: <span id="summarySkipped">0</span></p>
            <p>Time Up: <span id="summaryTimeUp">0</span></p> <p>Total Questions: <span id="summaryTotalQuestions">0</span></p>
        </div>
        <div id="quizResultsDetailsContainer" class="results-grid">
            </div>
        <button class="back-to-score-btn" id="quizResultsBackButton"><i class="fa-solid fa-arrow-left"></i> Back</button>
    </div>

    <div class="previous-quizzes-container" id="previousQuizzesContainer">
        <h2>My Previous Quizzes</h2>
        <p id="noPreviousQuizzesMessage" style="display:none; text-align: center; font-style: italic; color: #777;">No previous quiz data found.</p>
        <table id="previousQuizzesTable">
            <thead>
                <tr>
                    <th>Quiz Name</th>
                    <th>Score</th>
                    <th>Percentage</th>
                    <th>Start Time</th> <th>End Time</th>   <th>Actions</th>
                </tr>
            </thead>
            <tbody id="previousQuizzesTableBody">
            </tbody>
        </table>
    </div>
    <div class="performance-trends-container" id="performanceTrendsContainer">
  <h2>Performance Trends</h2>
  <p id="noPerformanceDataMessage" style="display:none; text-align:center; font-style:italic; color:#777;">
    No performance data available.
  </p>
  <canvas id="scoreTrendChart"></canvas>
  <canvas id="scoreBarChart" style="margin-top:30px;"></canvas>
</div>
<div id="archivedQuizzesContainer" style="display:none;">
  <div class="archive-header">
    <i class="fas fa-archive"></i>
    <h2>Archived Quizzes</h2>
  </div>

  <div class="archive-card">
    <table class="archive-table">
      <thead>
        <tr>
          <th>Quiz Name</th>
          <th>Total Questions</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="archivedQuizzesTableBody"></tbody>
    </table>
    <p id="noArchivedQuizzesMessage" class="no-data-message" style="display:none;">
      No archived quizzes available.
    </p>
  </div>
</div>
<div id="createQuizContainer" style="display:none; padding:20px;">
  <h2>Create New Quiz</h2>

  <label>Quiz ID:</label>
  <input type="text" id="quizId" placeholder="Unique ID"><br><br>

  <label>Quiz Name:</label>
  <input type="text" id="quizName" placeholder="Quiz Name"><br><br>

  <label>Description:</label>
  <textarea id="quizDescription" placeholder="Description"></textarea><br><br>

  <label>Enabled:</label>
  <input type="checkbox" id="quizEnabled" checked><br><br>

  <h3>Questions</h3>
  <div id="questionsContainer"></div>
  <button id="addQuestionBtn">+ Add Question</button><br><br>

  <button id="downloadQuizBtn">ðŸ’¾ Download Quiz JSON</button>
<button id="mergeAllQuizzesBtn">ðŸŒ€ Merge All Quizzes (Download JSON)</button>
</div>
</div>


  </div>

    <div id="infoModal" class="info-modal-overlay">
        <div class="info-modal-content">
            <p id="infoMessage"></p>
            <button id="infoOkButton" class="info-ok-btn">OK</button>
        </div>
    </div>

    <div id="timeUpMessage" class="time-up-message"></div>

  <script src="quizData.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="dashboardJS.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJFonKIRehOXlIfgJRVCzOVw4GciFVgo8xnwP1RF8zSlbPWGnGzPOJbS9bGS7UYJnY0tHOESNkSpi9zQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>